# minwon-rag-ai
> 국민권익위원회 민원 빅데이터 기반 RAG(Retrieval-Augmented Generation) 분석 시스템

공공데이터(국민권익위원회 민원 빅데이터 Open API)를 활용하여 키워드별 민원 통계를 조회하고, 이를 LLM(대형 언어 모델)으로 요약 및 해석하는 근거 중심 민원 분석 API 서버

---

### 프로젝트 개요
단순한 텍스트 생성을 넘어, **실제 통계 데이터**를 기반으로 민원 현황을 분석합니다. 사용자의 자연어 질문을 API 파라미터로 변환하고, 수집된 데이터를 바탕으로 실뢰할 수 있는 인사이트를 도출합니다.

* **데이터 출처:** 국민권익위원회 민원 빅데이터 Open API
* **핵심 가치:** 실제 수치(Statistics) 기반의 요약(Summary)과 분석의 한계점(Limitation) 제공

---

### 주요 기능 (MVP)

### 1. 자연어 질의 → API 파라미터 변환
사용자의 복잡한 질문을 분석하여 Open API 호출에 필요한 파라미터로 정제합니다.
* **예시:** "2022년 층간소음 추이 알려줘"
* **추출 파라미터:**
    * `searchword`: "층간소음"
    * `dateFrom` / `dateTo`: 2022-01-01 ~ 2022-12-31
    * `target`: `pttn`(민원), `saeol`(새올) 등

### 2. 공공 데이터 분석 (Multi-API Fetching)
단일 API가 아닌 다양한 통계 지표를 복합적으로 조회합니다.

| API 명칭 | 용도 |
| :--- | :--- |
| `minSearchDocCnt5` | 키워드 기반 민원 건수 조회 |
| `minTimeSeriseView5` | 시계열 추이 분석 (증감 패턴) |
| `minWdcloudInfo5` | 연관어 분석 (워드클라우드 데이터) |
| `minPrcsInstInfo` | 기관별 처리 현황 (지자체/정부부처) |
| `minActsSubordinateStatutesInfo` | 관련 법령 정보 매칭 |

### 3. LLM 기반 지능형 요약 및 해석
조회된 통계 수치를 바탕으로 LLM이 다음 내용을 생성합니다.
* **데이터 요약:** 통계 기반의 핵심 현황 3줄 요약
* **패턴 해석:** 수치 증가/감소의 원인 및 경향성 분석
* **한계점 제시:** 데이터의 누락 가능성이나 추가 분석이 필요한 지점 제언

---

## 데이터 흐름 (Workflow)

1. **Input:** 사용자 자연어 질문 수신
2. **Parsing:** LLM이 질문을 해석하여 API 호출 파라미터 생성
3. **Retrieval:** 공공데이터 포털 API를 통해 실시간 통계 데이터 수집
4. **Reasoning:** 수집된 통계를 컨텍스트로 LLM에게 전달 (RAG)
5. **Output:** 구조화된 JSON 응답 반환

---

## 응답 포맷 (Response Schema)

```json
{
  "summary": "2022년 층간소음 민원은 전년 대비 약 15% 증가했으며, 특히 하절기보다 동절기에 집중되는 경향을 보입니다.",
  "statistics": [
    { "period": "2022-Q1", "count": 1250 },
    { "period": "2022-Q2", "count": 1100 }
  ],
  "limitation": "해당 데이터는 국민신문고 접수건 기준이므로, 전화 민원이나 현장 접수 데이터는 포함되지 않았을 수 있습니다."
}